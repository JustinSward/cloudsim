{% extends 'base.html' %}

{% block head %}

{% endblock %}
{% block body %}
<div class="topnav">
    <a class="active" href="/">Simulator</a>
    <a href="/instructions">Instructions</a>
    <a href="/about">About Us</a>
  </div>

<h2>Simulation Setup</h2>

<div class="content">
    <form action="/" method="POST">
        <select name="ptype" id="ptype">
            <option value="V">Voltage Source (V)</option>
            <option value="R">Resistor (R)</option>
            <option value="C">Capacitor (C)</option>
            <option value="L">Inductor (L)</option>
        </select>
        <input type="text" name="pident" id="pident" placeholder="Identifier" required>
        <input type="number" name="pvalue" id="pvalue" placeholder="Value" min="0" step="any" required>
        <input type="number" name="pnode1" id="pnode1" placeholder="Node 1" min="0" step="1" required>
        <input type="number" name="pnode2" id="pnode2" placeholder="Node 2" min="0" step="1" required>
        <input type="submit" value="Add Component">
    </form>

    {% if partAddedH %}
    <h3>Component successfully added</h3>
    ( <a href='/undo'> UNDO ADD</a> )
    {% else %}
    <br><br>
    {% endif %}


    {% if PartHTML.number_of_parts < 1 %}
    <p style="color:darkred" style="margin:0.5em">The netlist is currently empty.</p>
    <br>
    {% else %}
    <p style="color:darkblue" style="padding:1em">
        {% if PartHTML.number_of_parts == 1 %}
        Total: {{ PartHTML.number_of_parts }} Net
        {% else %}
            Total: {{ PartHTML.number_of_parts }} Nets
    {% endif %}
    </p>
    ( <a href='/clear'>CLEAR NETLIST</a> )
    

    <table>
        <thead>
            <tr>
                <th>Component</th>
                <th>Value</th>
                <th>Units</th>
                <th>Node 1</th>
                <th>Node 2</th>
                <th>Action</th>
            </tr>
            {% for Part in part_arrayHTML %} <!-- Make a new row for each part in the netlist -->
            <tr>
                <td>{{Part.getPartName()}}</td>
                <td>{{Part.partValue}}</td>
                <td>{{Part.getUnits()}}</td>
                <td>{{Part.node1}}</td>
                <td>{{Part.node2}}</td>
                <td><a href="">Update</a>
                    <br>
                    <a href="">Delete</a>
                </td>
            </tr>
        </thead>
        {% endfor %}
    </table>

    
    <br><hr width=75%><br>
    <form action="/run" method="POST">
        <select name="simtype" id="simtype">
            <option value="1">Voltage Analysis</option>
            <option value="2">Time Analysis</option>
            <option value="3">Frequency Analysis</option>
        </select>
        <input type="number" name="simnode" id="simnode" placeholder="Node" min="0" step="1" required>
        <input type="text" name="simstartfreq" id="simstartfreq" placeholder="Start Frequency [Hz]">
        <input type="text" name="simendfreq" id="simendfreq" placeholder="End Frequency [Hz]">
        <input type="submit" value="Run Simulation">
    </form>


    {% endif %}
    
</div>
{% endblock %}